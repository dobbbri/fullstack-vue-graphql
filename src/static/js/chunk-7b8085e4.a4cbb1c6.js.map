{"version":3,"sources":["webpack:///./src/views/posts/Post.vue?3f86","webpack:///src/views/posts/Post.vue","webpack:///./src/views/posts/Post.vue?2845","webpack:///./src/views/posts/Post.vue","webpack:///./src/views/posts/Post.vue?69b9"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","my-5","flexbox","center","row","wrap","xs12","staticClass","_v","_s","getPost","title","large","icon","on","click","toggleLike","color","checkIfPostLiked","_id","likes","$event","$router","go","top","slot","showDialog","src","imageUrl","alt","fullscreen","hide-overlay","model","value","callback","$$v","dialog","expression","closeDialog","_l","category","index","key","class","ml-0","text-color","description","_e","submit","preventDefault","label","clearable","clear-icon","prepend-icon","append-outer-icon","messageBody","type","click:append-outer","addPostMessage","subheader","two-line","messages","length","message","avatar","inset","messageUser","username","messageDate","checkIfOwnMessage","staticRenderFns","Postvue_type_script_lang_js_","name","props","data","postLiked","apollo","query","queries","variables","postId","computed","_objectSpread","Object","vuex_esm","methods","window","innerWidth","$disableHTMLScroll","$enableHTMLScroll","_this","$apollo","mutate","mutation","userId","user","update","cache","_ref","readQuery","unshift","writeQuery","then","catch","error","console","likePost","_this2","_ref2","updatedUser","favorites","$store","commit","unlikePost","_this3","_ref3","userFavorites","some","fave","posts_Postvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Post_vue_vue_type_style_index_0_id_984a8a50_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Post_vue_vue_type_style_index_0_id_984a8a50_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"static/js/chunk-7b8085e4.a4cbb1c6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.getPost)?_c('v-container',{attrs:{\"my-5\":\"\",\"flexbox\":\"\",\"center\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-card',{staticClass:\"card\"},[_c('v-card-title',{staticClass:\"card__title\"},[_c('h1',[_vm._v(_vm._s(_vm.getPost.title))]),(_vm.user)?[_c('v-btn',{attrs:{\"large\":\"\",\"icon\":\"\"},on:{\"click\":_vm.toggleLike}},[_c('v-icon',{attrs:{\"color\":_vm.checkIfPostLiked(_vm.getPost._id) ? 'error' : 'grey'}},[_vm._v(\"\\n                fas fa-heart\\n              \")])],1)]:[_c('v-icon',{staticClass:\"ml-3 mr-2\",attrs:{\"color\":\"grey\"}},[_vm._v(\"\\n              fas fa-heart\\n            \")])],_c('h3',{staticClass:\"font-weight-light text-uppercase\"},[_vm._v(\"\\n            \"+_vm._s(_vm.getPost.likes)+\" \"+_vm._s(_vm.getPost.likes !== 1 ? 'likes' : 'like')+\"\\n          \")]),_c('v-spacer'),_c('v-btn',{attrs:{\"large\":\"\",\"icon\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.$router.go(-1)}}},[_vm._v(\"fas fa-chevron-circle-left\")])],1)],2),_c('v-tooltip',{attrs:{\"top\":\"\"}},[_c('span',[_vm._v(\"Click to enlarge image\")]),_c('v-responsive',{attrs:{\"slot\":\"activator\"},on:{\"click\":_vm.showDialog},slot:\"activator\"},[_c('img',{attrs:{\"src\":_vm.getPost.imageUrl,\"alt\":\"\"}})])],1),_c('v-dialog',{staticClass:\"modal\",attrs:{\"fullscreen\":\"\",\"hide-overlay\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-btn',{staticClass:\"modal__close\",attrs:{\"icon\":\"\"},on:{\"click\":_vm.closeDialog}},[_c('v-icon',{attrs:{\"color\":\"#fff\"}},[_vm._v(\"fas fa-times\")])],1),_c('img',{staticClass:\"modal__image\",attrs:{\"src\":_vm.getPost.imageUrl,\"alt\":\"\"}})],1),_c('v-card-text',[_vm._l((_vm.getPost.categories),function(category,index){return _c('span',{key:index},[_c('v-chip',{staticClass:\"mb-3\",class:{'ml-0' : index === 0},attrs:{\"color\":\"accent\",\"text-color\":\"white\"}},[_vm._v(\"\\n              \"+_vm._s(category)+\"\\n            \")])],1)}),(_vm.getPost.description)?_c('h3',{staticClass:\"font-weight-light mb-0 mt-3 card__subtitle\"},[_vm._v(\"\\n            \"+_vm._s(_vm.getPost.description)+\"\\n          \")]):_vm._e()],2)],1)],1)],1),(_vm.user)?_c('v-layout',{staticClass:\"mt-3\",attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Add a comment\",\"clearable\":\"\",\"clear-icon\":\"fas fa-times\",\"prepend-icon\":\"fas fa-comment\",\"append-outer-icon\":_vm.messageBody && 'fas fa-paper-plane',\"type\":\"text\"},on:{\"click:append-outer\":_vm.addPostMessage},model:{value:(_vm.messageBody),callback:function ($$v) {_vm.messageBody=$$v},expression:\"messageBody\"}})],1)],1)],1)],1):_vm._e(),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('h2',{staticClass:\"font-weight-bold my-3\"},[_vm._v(\"Comments\")]),_c('v-list',{attrs:{\"subheader\":\"\",\"two-line\":\"\"}},[_c('v-subheader',[_vm._v(_vm._s(_vm.getPost.messages.length)+\" comments\")]),_vm._l((_vm.getPost.messages),function(message){return [_c('v-divider',{key:message._id}),_c('v-list-tile',{key:message.title,attrs:{\"avatar\":\"\",\"inset\":\"\"}},[_c('v-list-tile-avatar',[_c('img',{attrs:{\"src\":message.messageUser.avatar,\"alt\":\"\"}})]),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n                \"+_vm._s(message.messageBody)+\"\\n              \")]),_c('v-list-tile-sub-title',[_vm._v(\"\\n                \"+_vm._s(message.messageUser.username)+\"\\n                \"),_c('span',{staticClass:\"text--grey lighten-1 hidden-xs-only\"},[_vm._v(_vm._s(message.messageDate))])])],1),_c('v-list-tile-action',{staticClass:\"hidden-xs-only\"},[_c('v-icon',{attrs:{\"color\":_vm.checkIfOwnMessage(message) ? 'primary' : 'grey'}},[_vm._v(\"fas fa-comment-dots\")])],1)],1)]})],2)],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container v-if=\"getPost\" my-5 flexbox center>\n    <v-layout row wrap>\n      <v-flex xs12 >\n        <v-card class=\"card\">\n          <v-card-title class=\"card__title\">\n            <h1>{{getPost.title}}</h1>\n\n            <template v-if=\"user\">\n              <v-btn\n                large\n                icon\n                @click=\"toggleLike\"\n              >\n                <v-icon :color=\"checkIfPostLiked(getPost._id) ? 'error' : 'grey'\">\n                  fas fa-heart\n                </v-icon>\n              </v-btn>\n            </template>\n\n            <template v-else>\n              <v-icon color=\"grey\" class=\"ml-3 mr-2\">\n                fas fa-heart\n              </v-icon>\n            </template>\n\n            <h3 class=\"font-weight-light text-uppercase\">\n              {{getPost.likes}} {{getPost.likes !== 1 ? 'likes' : 'like'}}\n            </h3>\n\n            <v-spacer></v-spacer>\n\n            <v-btn large icon>\n              <v-icon\n                color=\"primary\"\n                @click=\"$router.go(-1)\"\n              >fas fa-chevron-circle-left</v-icon>\n            </v-btn>\n          </v-card-title>\n\n          <v-tooltip top>\n            <span>Click to enlarge image</span>\n            <v-responsive slot=\"activator\" @click=\"showDialog\">\n              <img :src=\"getPost.imageUrl\" alt=\"\">\n            </v-responsive>\n          </v-tooltip>\n\n          <v-dialog\n            class=\"modal\"\n            v-model=\"dialog\"\n            fullscreen\n            hide-overlay\n          >\n            <v-btn\n              class=\"modal__close\"\n              icon\n              @click=\"closeDialog\"\n            >\n              <v-icon color=\"#fff\">fas fa-times</v-icon>\n            </v-btn>\n            <img :src=\"getPost.imageUrl\" alt=\"\" class=\"modal__image\">\n          </v-dialog>\n\n          <v-card-text>\n            <span\n              v-for=\"(category, index) in getPost.categories\"\n              :key=\"index\"\n            >\n              <v-chip\n                class=\"mb-3\"\n                :class=\"{'ml-0' : index === 0}\"\n                color=\"accent\"\n                text-color=\"white\"\n              >\n                {{category}}\n              </v-chip>\n            </span>\n            <h3 v-if=\"getPost.description\"\n              class=\"font-weight-light mb-0 mt-3 card__subtitle\"\n            >\n              {{getPost.description}}\n            </h3>\n          </v-card-text>\n        </v-card>\n      </v-flex>\n    </v-layout>\n\n    <v-layout v-if=\"user\" class=\"mt-3\" row wrap>\n      <v-flex xs12>\n        <v-form @submit.prevent>\n          <v-layout row>\n            <v-text-field\n              v-model=\"messageBody\"\n              label=\"Add a comment\"\n              clearable\n              clear-icon=\"fas fa-times\"\n              prepend-icon=\"fas fa-comment\"\n              :append-outer-icon=\"messageBody && 'fas fa-paper-plane'\"\n              @click:append-outer=\"addPostMessage\"\n              type=\"text\"\n            ></v-text-field>\n          </v-layout>\n        </v-form>\n      </v-flex>\n    </v-layout>\n\n    <v-layout row wrap>\n      <v-flex xs12>\n        <h2 class=\"font-weight-bold my-3\">Comments</h2>\n        <v-list subheader two-line>\n          <v-subheader>{{getPost.messages.length}} comments</v-subheader>\n\n          <template v-for=\"message in getPost.messages\">\n            <v-divider :key=\"message._id\"></v-divider>\n\n            <v-list-tile\n              avatar\n              inset\n              :key=\"message.title\"\n            >\n              <v-list-tile-avatar>\n                <img :src=\"message.messageUser.avatar\" alt=\"\">\n              </v-list-tile-avatar>\n\n              <v-list-tile-content>\n                <v-list-tile-title>\n                  {{message.messageBody}}\n                </v-list-tile-title>\n                <v-list-tile-sub-title>\n                  {{message.messageUser.username}}\n                  <span class=\"text--grey lighten-1 hidden-xs-only\">{{message.messageDate}}</span>\n                </v-list-tile-sub-title>\n              </v-list-tile-content>\n\n              <v-list-tile-action class=\"hidden-xs-only\">\n                <v-icon :color=\"checkIfOwnMessage(message) ? 'primary' : 'grey'\">fas fa-comment-dots</v-icon>\n              </v-list-tile-action>\n            </v-list-tile>\n          </template>\n        </v-list>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\n  import {mapGetters} from 'vuex';\n  import {\n    GET_POST,\n    ADD_POST_MESSAGE,\n    LIKE_POST,\n    UNLIKE_POST\n  } from '../../queries';\n\n  export default {\n    name: 'Post',\n    props: ['postId'],\n    data: () => ({\n      dialog: false,\n      messageBody: '',\n      postLiked: false\n    }),\n    apollo: {\n      getPost: {\n        query: GET_POST,\n        variables() {\n          return {\n            postId: this.postId\n          }\n        }\n      }\n    },\n    computed: {\n      ...mapGetters(['user', 'userFavorites'])\n    },\n    methods: {\n      showDialog() {\n        if (window.innerWidth > 600) {\n          this.dialog = !this.dialog;\n          this.$disableHTMLScroll();\n        }\n      },\n      closeDialog() {\n        this.dialog = !this.dialog;\n        this.$enableHTMLScroll();\n      },\n      addPostMessage() {\n        this.$apollo.mutate({\n          mutation: ADD_POST_MESSAGE,\n          variables: {\n            messageBody: this.messageBody,\n            userId: this.user._id,\n            postId: this.postId\n          },\n          update: (cache, {data: {addPostMessage}}) => {\n            // take the initial state\n            const data = cache.readQuery({\n              query: GET_POST,\n              variables: {postId: this.postId}\n            });\n            // add new message to post\n            data.getPost.messages.unshift(addPostMessage);\n            // update post with new data\n            cache.writeQuery({\n              query: GET_POST,\n              variables: {postId: this.postId},\n              data\n            });\n          }\n        })\n          .then(() => this.messageBody = '')\n          .catch((error) => console.error(error))\n      },\n      likePost() {\n        this.$apollo.mutate({\n          mutation: LIKE_POST,\n          variables: {\n            postId: this.postId,\n            username: this.user.username\n          },\n          update: (cache) => {\n            const data = cache.readQuery({\n              query: GET_POST,\n              variables: {postId: this.postId}\n            });\n            data.getPost.likes++;\n            cache.writeQuery({\n              query: GET_POST,\n              variables: {postId: this.postId},\n              data\n            });\n          }\n        })\n          .then(({data}) => {\n            const updatedUser = { ...this.user, favorites: data.likePost.favorites };\n            this.$store.commit('setUser', updatedUser);\n          })\n          .catch(error => console.error(error))\n      },\n      unlikePost() {\n        this.$apollo.mutate({\n          mutation: UNLIKE_POST,\n          variables: {\n            postId: this.postId,\n            username: this.user.username\n          },\n          update: (cache) => {\n            const data = cache.readQuery({\n              query: GET_POST,\n              variables: {postId: this.postId}\n            });\n            data.getPost.likes--;\n            cache.writeQuery({\n              query: GET_POST,\n              variables: {postId: this.postId},\n              data\n            });\n          }\n        })\n          .then(({data}) => {\n            const updatedUser = { ...this.user, favorites: data.unlikePost.favorites };\n            this.$store.commit('setUser', updatedUser);\n          })\n          .catch(error => console.error(error))\n      },\n      toggleLike() {\n        if (this.postLiked) {\n          this.unlikePost()\n        } else {\n          this.likePost()\n        }\n      },\n      checkIfOwnMessage(message) {\n        return this.user && this.user._id === message.messageUser._id;\n      },\n      checkIfPostLiked(postId) {\n        if (this.userFavorites && this.userFavorites.some(fave => fave._id === postId)) {\n          this.postLiked = true;\n          return true\n        } else {\n          this.postLiked = false;\n          return false\n        }\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  /deep/ .v-responsive__content {\n    text-align: center;\n\n    img {\n      border-radius: .5rem;\n      max-height: 480px;\n    }\n  }\n\n  /deep/ .v-tooltip {\n    cursor: pointer;\n  }\n\n  .modal {\n    &__image {\n      height: 100%;\n      max-height: none;\n    }\n\n    &__close {\n      position: absolute;\n      right: 0;\n      top: 0;\n    }\n  }\n\n  /deep/ .v-dialog {\n    background: rgba(#000, .85);\n    overflow: hidden;\n    padding: 1rem;\n    text-align: center;\n  }\n\n  .card {\n    &__subtitle {\n      position: relative;\n\n      &:before {\n        content: '';\n        display: block;\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: -16px;\n        height: 1px;\n        background-color: lighten(#9e9e9e, 20%);\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Post.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Post.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Post.vue?vue&type=template&id=984a8a50&scoped=true&\"\nimport script from \"./Post.vue?vue&type=script&lang=js&\"\nexport * from \"./Post.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Post.vue?vue&type=style&index=0&id=984a8a50&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"984a8a50\",\n  null\n  \n)\n\ncomponent.options.__file = \"Post.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Post.vue?vue&type=style&index=0&id=984a8a50&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Post.vue?vue&type=style&index=0&id=984a8a50&lang=scss&scoped=true&\""],"sourceRoot":""}