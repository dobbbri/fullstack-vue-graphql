{"version":3,"sources":["webpack:///./src/views/posts/Posts.vue?8873","webpack:///./src/views/posts/Posts.vue?a1f2","webpack:///src/views/posts/Posts.vue","webpack:///./src/views/posts/Posts.vue?e11b","webpack:///./src/views/posts/Posts.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Posts_vue_vue_type_style_index_0_id_46bf4458_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Posts_vue_vue_type_style_index_0_id_46bf4458_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","grid-list-lg","flex","row","wrap","_l","infiniteScrollPosts","post","key","_id","xs12","sm6","mb-2","scopedSlots","_u","fn","ref","hover","class","style","nativeOn","click","$event","$router","push","path","to","tag","_v","_s","title","likes","messages","length","icon","on","showPostAuthor","small","directives","name","rawName","value","expression","avatar","src","createdBy","alt","username","createdDate","ripple","color","_e","text-xs-center","raised","showMorePosts","posts","staticRenderFns","pageSize","Postsvue_type_script_lang_js_","data","pageNum","showMoreEnabled","apollo","query","queries","variables","created","$store","dispatch","methods","_this","$apollo","fetchMore","updateQuery","prevResult","_ref","fetchMoreResult","newPosts","hasMore","__typename","_toConsumableArray","concat","then","_ref2","catch","error","console","posts_Postsvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/chunk-a7558998.c39a6726.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Posts.vue?vue&type=style&index=0&id=46bf4458&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Posts.vue?vue&type=style&index=0&id=46bf4458&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"py-5\",attrs:{\"grid-list-lg\":\"\"}},[(_vm.infiniteScrollPosts)?[_c('v-layout',{attrs:{\"flex\":\"\",\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.infiniteScrollPosts.posts),function(post){return _c('v-flex',{key:post._id,attrs:{\"xs12\":\"\",\"sm6\":\"\",\"mb-2\":\"\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn _c('v-card',{staticClass:\"card\",class:(\"elevation-\" + (hover ? 8 : 2))},[_c('v-responsive',{staticClass:\"card__media\",style:((\"background: url(\" + (post.imageUrl) + \") 50% 50% no-repeat;\")),nativeOn:{\"click\":function($event){_vm.$router.push({path: (\"/post/\" + (post._id))})}}}),_c('v-card-title',{staticClass:\"card__title\"},[_c('router-link',{staticClass:\"headline\",attrs:{\"to\":(\"/post/\" + (post._id)),\"tag\":\"h3\"}},[_vm._v(\"\\n                \"+_vm._s(post.title)+\"\\n              \")])],1),_c('v-card-actions',{staticClass:\"pa-3\"},[_c('v-card-title',{staticClass:\"pa-0\"},[_c('span',{staticClass:\"grey--text\"},[_vm._v(\"\\n                \"+_vm._s(post.likes)+\" \"+_vm._s(post.likes !== 1 ? 'likes' : 'like')+\"\\n                \"),_c('br'),_vm._v(\"\\n                \"+_vm._s(post.messages.length)+\" \"+_vm._s(post.messages.length !== 1 ? 'comments' : 'comment')+\"\\n              \")])]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.showPostAuthor = !_vm.showPostAuthor}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s((\"fas fa-chevron-\" + (_vm.showPostAuthor ? 'up' : 'down'))))])],1)],1),_c('v-slide-y-transition',[_c('v-card-text',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPostAuthor),expression:\"showPostAuthor\"}],staticClass:\"grey lighten-4\"},[_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-avatar',[_c('img',{attrs:{\"src\":post.createdBy.avatar,\"alt\":\"\"}})]),_c('v-list-tile-content',[_c('v-list-tile-title',{staticClass:\"text--primary\"},[_vm._v(_vm._s(post.createdBy.username))]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-thin\"},[_vm._v(\"Added \"+_vm._s(post.createdDate))])],1),_c('v-list-tile-action',[_c('v-btn',{attrs:{\"icon\":\"\",\"ripple\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"grey lighten-1\"}},[_vm._v(\"fas fa-info\")])],1)],1)],1)],1)],1)],1)}}])})],1)}))]:_vm._e(),(_vm.showMoreEnabled)?[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"text-xs-center\":\"\"}},[_c('v-btn',{attrs:{\"raised\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.showMorePosts}},[_vm._v(\"Show More\")])],1)],1)]:_vm._e(),(_vm.infiniteScrollPosts && !_vm.infiniteScrollPosts.posts.length)?[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"text-xs-center\":\"\"}},[_c('h1',[_vm._v(\"Unfortunately, there are no posts yet ðŸ˜ž\")])])],1)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container grid-list-lg class=\"py-5\">\n    <template v-if=\"infiniteScrollPosts\">\n      <v-layout flex row wrap>\n        <v-flex\n          xs12\n          sm6\n          mb-2\n          v-for=\"post in infiniteScrollPosts.posts\"\n          :key=\"post._id\"\n        >\n          <v-hover>\n            <v-card\n              class=\"card\"\n              slot-scope=\"{ hover }\"\n              :class=\"`elevation-${hover ? 8 : 2}`\"\n            >\n              <v-responsive\n                class=\"card__media\"\n                @click.native=\"$router.push({path: `/post/${post._id}`})\"\n                :style=\"`background: url(${post.imageUrl}) 50% 50% no-repeat;`\"\n              >\n              </v-responsive>\n\n              <v-card-title class=\"card__title\">\n                <router-link\n                  :to=\"`/post/${post._id}`\"\n                  tag=\"h3\"\n                  class=\"headline\"\n                >\n                  {{post.title}}\n                </router-link>\n              </v-card-title>\n\n              <v-card-actions class=\"pa-3\">\n                <v-card-title class=\"pa-0\">\n                <span class=\"grey--text\">\n                  {{post.likes}} {{post.likes !== 1 ? 'likes' : 'like'}}\n                  <br>\n                  {{post.messages.length}} {{post.messages.length !== 1 ? 'comments' : 'comment'}}\n                </span>\n                </v-card-title>\n\n                <v-spacer></v-spacer>\n\n                <v-btn icon @click=\"showPostAuthor = !showPostAuthor\">\n                  <v-icon small>{{`fas fa-chevron-${showPostAuthor ? 'up' : 'down'}`}}</v-icon>\n                </v-btn>\n              </v-card-actions>\n\n              <v-slide-y-transition>\n                <v-card-text v-show=\"showPostAuthor\" class=\"grey lighten-4\">\n                  <v-list-tile avatar>\n                    <v-list-tile-avatar>\n                      <img :src=\"post.createdBy.avatar\" alt=\"\">\n                    </v-list-tile-avatar>\n\n                    <v-list-tile-content>\n                      <v-list-tile-title class=\"text--primary\">{{post.createdBy.username}}</v-list-tile-title>\n                      <v-list-tile-sub-title class=\"font-weight-thin\">Added {{post.createdDate}}</v-list-tile-sub-title>\n                    </v-list-tile-content>\n\n                    <v-list-tile-action>\n                      <v-btn icon ripple>\n                        <v-icon\n                          small\n                          color=\"grey lighten-1\"\n                        >fas fa-info</v-icon>\n                      </v-btn>\n                    </v-list-tile-action>\n                  </v-list-tile>\n                </v-card-text>\n              </v-slide-y-transition>\n            </v-card>\n          </v-hover>\n        </v-flex>\n      </v-layout>\n    </template>\n\n\n    <template v-if=\"showMoreEnabled\">\n      <v-layout row>\n        <v-flex xs12 text-xs-center>\n          <v-btn\n              raised\n              color=\"primary\"\n              @click=\"showMorePosts\"\n          >Show More</v-btn>\n        </v-flex>\n      </v-layout>\n    </template>\n\n    <template v-if=\"infiniteScrollPosts && !infiniteScrollPosts.posts.length\">\n      <v-layout row>\n        <v-flex xs12 text-xs-center>\n          <h1>Unfortunately, there are no posts yet ðŸ˜ž</h1>\n        </v-flex>\n      </v-layout>\n    </template>\n\n  </v-container>\n</template>\n\n<script>\n  import {INFINITE_SCROLL_POSTS} from '../../queries';\n  const pageSize = 4;\n\n  export default {\n    name: 'Posts',\n    data: () => ({\n      pageNum: 1,\n      showMoreEnabled: true,\n      showPostAuthor: false\n    }),\n    apollo: {\n      infiniteScrollPosts: {\n        query: INFINITE_SCROLL_POSTS,\n        variables: {\n          pageNum: 1,\n          pageSize\n        }\n      }\n    },\n    created() {\n      return this.$store.dispatch('getPosts');\n    },\n    methods: {\n      showMorePosts() {\n        this.pageNum += 1;\n        this.$apollo.queries.infiniteScrollPosts.fetchMore({\n          variables: {\n            pageNum: this.pageNum,\n            pageSize\n          },\n          updateQuery(prevResult, {fetchMoreResult}) {\n            const newPosts = fetchMoreResult.infiniteScrollPosts.posts;\n            const hasMore = fetchMoreResult.infiniteScrollPosts.hasMore;\n\n\n            return {\n              infiniteScrollPosts: {\n                __typename: prevResult.infiniteScrollPosts.__typename,\n                posts: [\n                  ...prevResult.infiniteScrollPosts.posts,\n                  ...newPosts\n                ],\n                hasMore\n              }\n            }\n          }\n        })\n          .then(({data}) => this.showMoreEnabled = data.infiniteScrollPosts.hasMore)\n          .catch(error => console.error(error))\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .card {\n    &__media {\n      background-size: cover !important;\n      cursor: pointer;\n      height: 300px;\n    }\n\n    &__title {\n      position: relative;\n\n      &:after {\n        content: '';\n        display: block;\n        position: absolute;\n        left: 16px;\n        right: 16px;\n        bottom: 0;\n        height: 1px;\n        background-color: lighten(#9e9e9e, 20%);\n      }\n\n      h3 {\n        cursor: pointer;\n        // font-weight: 700;\n        margin-bottom: 0;\n        transition: color .2s ease-in-out;\n\n        &:hover {\n          color: #094D92;\n          text-decoration: none;\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Posts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Posts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Posts.vue?vue&type=template&id=46bf4458&scoped=true&\"\nimport script from \"./Posts.vue?vue&type=script&lang=js&\"\nexport * from \"./Posts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Posts.vue?vue&type=style&index=0&id=46bf4458&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46bf4458\",\n  null\n  \n)\n\ncomponent.options.__file = \"Posts.vue\"\nexport default component.exports"],"sourceRoot":""}