(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7edd1a2c"],{"3b3b":function(t,e,s){},ae71:function(t,e,s){"use strict";var a=s("3b3b"),r=s.n(a);r.a},b35c:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{"text-xs-center":"","py-5":"","my-5":""}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("v-card",{staticClass:"user elevation-12"},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[t._v("Info about you")])],1),s("v-layout",[s("v-flex",{attrs:{"d-flex":"","align-center":"",xs5:""}},[s("v-responsive",[s("img",{staticClass:"user__avatar",attrs:{src:t.user.avatar,alt:""}})])],1),s("v-flex",{attrs:{xs7:""}},[s("v-card-title",[s("div",[s("h3",{staticClass:"headline mb-3"},[t._v(t._s(t.user.username))]),s("p",{staticClass:"user__text"},[t._v("Joined "+t._s(t.user.joinDate))]),s("p",{staticClass:"user__text"},[t._v(t._s(t.user.favorites.length)+" favorites")]),s("p",{staticClass:"user__text"},[t._v(t._s(t.userPosts.length)+" posts added")])])])],1)],1)],1)],1)],1),t.userFavorites.length?[s("v-container",{attrs:{"grid-list-lg":"","mt-4":"","pt-4":"","px-0":"","pb-0":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"","mb-2":""}},[s("h2",{staticClass:"font-weight-light"},[t._v("You have "+t._s(t.userFavorites.length)+" favorite posts")])]),t._l(t.userFavorites,function(e){return s("v-flex",{key:e._id,attrs:{xs12:"",sm6:"",lg4:"","mb-2":""}},[s("v-hover",{scopedSlots:t._u([{key:"default",fn:function(a){var r=a.hover;return s("v-card",{staticClass:"card",class:"elevation-"+(r?8:2)},[s("v-responsive",{staticClass:"card__media",nativeOn:{click:function(s){t.$router.push({path:"/post/"+e._id})}}},[s("img",{staticClass:"card__img",attrs:{src:e.imageUrl,alt:""}})]),s("v-card-title",{staticClass:"card__title"},[s("router-link",{staticClass:"headline",attrs:{to:"/post/"+e._id,tag:"h3"}},[t._v("\n                  "+t._s(e.title)+"\n                ")]),s("v-spacer"),s("v-icon",{attrs:{color:"error"}},[t._v("\n                  fas fa-heart\n                ")])],1)],1)}}])})],1)})],2)],1)]:[s("v-layout",{attrs:{row:"",wrap:"","mt-4":"","pt-4":""}},[s("v-flex",{attrs:{xs12:""}},[s("h2",{staticClass:"font-weight-light"},[t._v("You have no favorites currently. "),s("router-link",{attrs:{to:"/posts"}},[t._v("Go here")]),t._v(" and add some ðŸ˜‰")],1)])],1)],t.userPosts.length?[s("v-container",{attrs:{"grid-list-lg":"","mt-4":"","pt-4":"","px-0":"","pb-0":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"","mb-2":""}},[s("h2",{staticClass:"font-weight-light"},[t._v("You have added "+t._s(t.userPosts.length)+" posts")])]),s("v-flex",{attrs:{xs12:""}},[s("v-list",{attrs:{"two-line":""}},t._l(t.userPosts,function(e,a){return s("v-list-tile",{key:e._id,class:{"border-bottom":a!==t.userPosts.length-1},attrs:{avatar:""},on:{click:function(s){t.$router.push("/post/"+e._id)}}},[s("v-list-tile-avatar",[s("img",{attrs:{src:e.imageUrl,alt:""}})]),s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.title))]),s("v-list-tile-sub-title",[t._v(t._s(e.description))])],1),s("v-list-tile-action",[s("v-btn",{attrs:{flat:""},on:{click:function(s){s.stopPropagation(),t.loadPostDetails(e)}}},[s("v-icon",{attrs:{small:"",left:"",color:"primary"}},[t._v("fas fa-edit")]),t._v("\n                  Edit\n                ")],1),s("v-btn",{staticClass:"ml-3",attrs:{flat:""},on:{click:function(s){s.stopPropagation(),t.loadPostDetails(e,!1)}}},[s("v-icon",{attrs:{small:"",left:"",color:"error"}},[t._v("fas fa-trash")]),t._v("\n                  Delete\n                ")],1)],1)],1)}))],1)],1)],1)]:[s("v-layout",{attrs:{row:"",wrap:"","mt-4":"","pt-4":""}},[s("v-flex",{attrs:{xs12:""}},[s("h2",{staticClass:"font-weight-light"},[t._v("You have no added posts currently. "),s("router-link",{attrs:{to:"/post/add"}},[t._v("Go here")]),t._v(" and add some ðŸ˜‰")],1)])],1)],s("v-dialog",{attrs:{"max-width":"720",persistent:""},model:{value:t.editPostDialog,callback:function(e){t.editPostDialog=e},expression:"editPostDialog"}},[s("v-card",[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[t._v("Update post")])],1),s("v-card-text",[s("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}},model:{value:t.isFormValid,callback:function(e){t.isFormValid=e},expression:"isFormValid"}},[s("v-text-field",{attrs:{name:"title",label:"Title",type:"text",autocomplete:"new-password",rules:[function(){return!!t.title||"Title is required"}]},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),s("v-text-field",{attrs:{name:"imageUrl",label:"Image URL",type:"text",autocomplete:"new-password",rules:[function(){return!!t.imageUrl||"Image URL is required"}]},model:{value:t.imageUrl,callback:function(e){t.imageUrl=e},expression:"imageUrl"}}),t.imageUrl?s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"","text-xs-center":""}},[s("img",{attrs:{src:t.imageUrl,alt:"",height:"300px"}})])],1):t._e(),s("v-select",{attrs:{items:t.categories,label:"Categories",multiple:"",rules:[function(){return t.selectedCategories.length>=1||"At least one category is required"}]},model:{value:t.selectedCategories,callback:function(e){t.selectedCategories=e},expression:"selectedCategories"}}),s("v-textarea",{attrs:{name:"description",label:"Description",rows:"1","auto-grow":""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"error",flat:""},on:{click:function(e){t.editPostDialog=!1}}},[t._v("\n          Cancel\n        ")]),s("v-btn",{attrs:{loading:t.loading,color:"success",disabled:!t.isFormValid||t.loading},on:{click:t.onSubmit}},[t._v("\n          Update\n          "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{dark:"",small:""}},[t._v("fas fa-sync-alt")])],1)])],1)],1)],1),s("v-dialog",{attrs:{"max-width":"720",persistent:""},model:{value:t.deletePostDialog,callback:function(e){t.deletePostDialog=e},expression:"deletePostDialog"}},[s("v-card",[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[t._v("Delete post")])],1),s("v-card-text",[s("h3",{staticClass:"font-weight-regular"},[t._v("Are you sure you want to delete this post?")])]),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"error",flat:""},on:{click:function(e){t.deletePostDialog=!1}}},[t._v("\n          Cancel\n        ")]),s("v-btn",{attrs:{color:"success"},on:{click:t.deletePost}},[t._v("\n          Delete\n        ")])],1)],1)],1)],2)},r=[],o=s("2f62");function i(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},a=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable}))),a.forEach(function(e){l(t,e,s[e])})}return t}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var n={name:"Profile",data:function(){return{showPostAuthor:!1,editPostDialog:!1,deletePostDialog:!1,postId:"",title:"",imageUrl:"",description:"",categories:["Art","Photo","Travel","Food","Technology","Cars","Girls"],selectedCategories:[],isFormValid:!0}},computed:i({},Object(o["b"])(["user","userFavorites","userPosts","loading"])),created:function(){return this.$store.dispatch("getUserPosts",{userId:this.user._id})},methods:{loadPostDetails:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=t._id,a=t.title,r=t.imageUrl,o=t.categories,i=t.description;this.postId=s,this.title=a,this.imageUrl=r,this.selectedCategories=o,this.description=i,e?this.editPostDialog=!0:this.deletePostDialog=!0},onSubmit:function(){var t=this;this.$refs.form.validate()&&this.$store.dispatch("updatePost",{postId:this.postId,userId:this.user._id,title:this.title,imageUrl:this.imageUrl,categories:this.selectedCategories,description:this.description}).then(function(){return t.editPostDialog=!1})},deletePost:function(){var t=this;this.$store.dispatch("deletePost",{postId:this.postId}).then(function(){return t.deletePostDialog=!1})}}},c=n,d=(s("ae71"),s("2877")),v=Object(d["a"])(c,a,r,!1,null,"bca02546",null);v.options.__file="Profile.vue";e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-7edd1a2c.630dcc8c.js.map